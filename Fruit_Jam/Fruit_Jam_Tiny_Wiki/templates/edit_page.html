<!-- SPDX-FileCopyrightText: 2026 Tim Cocks for Adafruit Industries -->
<!-- SPDX-License-Identifier: MIT -->
<!-- Adapted from pages found in [tiny_wiki for Micropython by Kevin McAleer](https://github.com/kevinmcaleer/tiny_wiki) -->

{% extends "templates/base.html" %}

{% block title %}Edit: {{ context['page_name'] }} - {{ context['wiki_title'] }}{% endblock title %}

{% block content %}
<h1>Editing: {{ context['page_name'] }}</h1>
<form method="POST" action="/save/{{ context['page_name'] }}" enctype="text/plain">
    <div class="actions button-row">
        <button
                id="delete-btn"
                type="submit"
                form="delete-{{ context['page_name'] }}"
                class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete this page?');"
        >
            Delete Page
        </button>
        <div class="float-right-btns">
            <a href="/wiki/{{ context['page_name'] }}" class="btn" style="background: #95a5a6;">Cancel</a>
            <button type="submit" class="btn">Save</button>
        </div>
        
    </div>
    <textarea name="content" autofocus>{{ context['markdown_content'] }}</textarea>
</form>
<form
    id="delete-{{ context['page_name'] }}"
    method="POST"
    action="/delete/{{ context['page_name'] }}"
>
</form>
<hr>
<h3>Markdown Cheatsheet</h3>
<pre><code># Heading 1
## Heading 2
### Heading 3
#### HEading 4

**bold text**
*italic text*
`code`

- List item 1
- List item 2

[[PageName]] - Link to another wiki page
[Link text](http://url.com) - External link

```
Code block
```
</code></pre>
{% endblock content %}
